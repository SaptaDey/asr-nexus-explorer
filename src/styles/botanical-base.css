/**
 * botanical-base.css - Base structural styles for botanical visualization
 * Component styles and layout definitions
 */

@layer components {
  /* Tree container styles */
  .tree-scene {
    @apply relative overflow-hidden rounded-lg border bg-gradient-to-br;
    @apply from-emerald-50 via-green-50 to-blue-50;
    @apply dark:from-emerald-950/20 dark:via-green-950/20 dark:to-blue-950/20;
  }

  /* Botanical element base styles */
  .botanical-element {
    @apply transition-all duration-300 ease-out;
    @apply hover:scale-110 cursor-pointer;
  }

  .root-bulb {
    @apply fill-[hsl(var(--root-bulb))] stroke-amber-800 stroke-2;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
  }

  .rootlet {
    @apply stroke-[hsl(var(--rootlet))] fill-none;
    @apply stroke-[3px] opacity-80;
  }

  .branch {
    @apply stroke-[hsl(var(--branch-primary))] fill-none;
    @apply stroke-[4px] opacity-90;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .evidence-bud {
    @apply fill-[hsl(var(--evidence-bud))] stroke-green-700;
    @apply stroke-1 opacity-95;
  }

  .leaf-cluster {
    @apply fill-[hsl(var(--leaf-cluster))] stroke-green-800;
    @apply stroke-1 opacity-90;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
  }

  .blossom {
    @apply fill-[hsl(var(--blossom-petal))] stroke-pink-500;
    @apply stroke-1 opacity-95;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.15));
  }

  .pollen-particle {
    @apply fill-[hsl(var(--pollen-gold))] opacity-80;
    @apply animate-pulse;
  }

  .pollen-warning {
    @apply fill-[hsl(var(--pollen-warning))] opacity-90;
    @apply animate-bounce;
  }

  /* Pruned/withered elements */
  .withered {
    @apply opacity-20 grayscale;
    @apply transition-all duration-700 ease-out;
  }

  /* Color-blind accessible patterns */
  .pattern-stripe {
    stroke-dasharray: 3, 2;
  }

  .pattern-dot {
    stroke-dasharray: 1, 3;
  }

  .pattern-dash {
    stroke-dasharray: 8, 4;
  }

  /* Hover tooltips */
  .node-tooltip {
    @apply absolute z-50 p-2 bg-white dark:bg-gray-800 border rounded shadow-lg;
    @apply text-xs max-w-xs opacity-0 pointer-events-none;
    @apply transition-opacity duration-200;
  }

  .node-tooltip.visible {
    @apply opacity-100 pointer-events-auto;
  }

  /* Timeline scrubber styles */
  .growth-timeline {
    @apply relative w-full h-2 bg-gradient-to-r;
    @apply from-amber-200 via-green-300 to-pink-200;
    @apply dark:from-amber-900/30 dark:via-green-900/30 dark:to-pink-900/30;
    @apply rounded-full overflow-hidden;
  }

  .timeline-marker {
    @apply absolute top-0 w-1 h-full bg-primary;
    @apply transition-all duration-300 ease-out;
    @apply shadow-lg;
  }

  /* Stage indicators */
  .stage-indicator {
    @apply inline-flex items-center gap-1 px-2 py-1 rounded-full;
    @apply text-xs font-medium transition-colors duration-200;
  }

  .stage-indicator.active {
    @apply bg-primary text-primary-foreground;
  }

  .stage-indicator.completed {
    @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300;
  }

  .stage-indicator.pending {
    @apply bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400;
  }
}

/* Reduced motion alternatives */
@media (prefers-reduced-motion: reduce) {
  .animate-grow,
  .animate-bloom,
  .animate-branch-draw {
    animation: fade-in 200ms ease-out forwards;
  }
  
  .animate-pulse-botanical,
  .animate-particle-float {
    animation: none;
  }
}

/* Print styles */
@media print {
  .tree-scene {
    @apply bg-white;
    -webkit-print-color-adjust: exact;
    color-adjust: exact;
  }
  
  .botanical-element {
    @apply transition-none;
  }
}