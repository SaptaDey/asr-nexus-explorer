import{as as e,at as n}from"./assets/index-CuHnpHBp.js";import"./react-brxg81GL.js";class i{parameters;researchContext;graphData;stageResults;figureMetadata=[];progressCallback;sessionId;constructor(e,n,i,t,a,s){this.parameters=e,this.researchContext=n,this.graphData=i,this.stageResults=t,this.progressCallback=a,this.sessionId=s}async generateComprehensiveThesisReport(e={}){const n=Date.now();try{await this.initializeFigureMetadata(),this.updateProgress("initialization",10);const t=[];try{t.push(await this.executeStage9A()),this.updateProgress("9A-complete",20)}catch(i){t.push(this.generateFallbackSubstage("9A","Abstract & Executive Summary")),this.updateProgress("9A-fallback",20)}try{t.push(await this.executeStage9B(t)),this.updateProgress("9B-complete",35)}catch(i){t.push(this.generateFallbackSubstage("9B","Introduction & Literature Review")),this.updateProgress("9B-fallback",35)}try{t.push(await this.executeStage9C(t)),this.updateProgress("9C-complete",50)}catch(i){t.push(this.generateFallbackSubstage("9C","Methodology & Framework")),this.updateProgress("9C-fallback",50)}try{t.push(await this.executeStage9D(t)),this.updateProgress("9D-complete",65)}catch(i){t.push(this.generateFallbackSubstage("9D","Results & Statistical Analysis")),this.updateProgress("9D-fallback",65)}try{t.push(await this.executeStage9E(t)),this.updateProgress("9E-complete",80)}catch(i){t.push(this.generateFallbackSubstage("9E","Discussion & Clinical Implications")),this.updateProgress("9E-fallback",80)}try{t.push(await this.executeStage9F(t)),this.updateProgress("9F-complete",90)}catch(i){t.push(this.generateFallbackSubstage("9F","Conclusions & Future Directions")),this.updateProgress("9F-fallback",90)}try{t.push(await this.executeStage9G(t)),this.updateProgress("9G-complete",95)}catch(i){t.push(this.generateFallbackSubstage("9G","References & Technical Appendices")),this.updateProgress("9G-fallback",95)}const a=await this.assembleFinalThesis(t);this.updateProgress("assembly-complete",100);const s={title:this.researchContext.topic||"Comprehensive ASR-GoT Research Analysis",substageResults:t,figureMetadata:this.figureMetadata,totalWordCount:this.calculateTotalWordCount(t),totalTokensUsed:this.calculateTotalTokens(t),totalGenerationTime:Math.round((Date.now()-n)/1e3),vancouverReferences:this.extractVancouverReferences(t),finalHTML:a,qualityMetrics:this.calculateQualityMetrics(t)};return e.storeInSupabase&&await this.storeComprehensiveReport(s,e.sessionTitle),s}catch(i){throw new Error(`Comprehensive thesis generation failed: ${i instanceof Error?i.message:"Unknown error"}`)}}async initializeFigureMetadata(){const e=["Evidence_Analysis__Evidence__Scope_Hypothesis_3.png","newplot.png",...Array.from({length:20},(e,n)=>`newplot (${n+1}).png`)];this.figureMetadata=e.map((e,n)=>{const i=n+1;let t="statistical",a="results",s="",o="";return e.includes("Evidence_Analysis")?(t="overview",a="introduction",s="Comprehensive Evidence Analysis Framework",o="Overview of evidence collection and analysis methodology across all research dimensions"):n<=3?(t="overview",a="methodology",s=`Research Framework Overview ${i}`,o="Systematic approach to data collection and initial analysis phases"):n<=8?(t="statistical",a="results",s="Statistical Analysis Results "+(i-4),o="Detailed statistical analysis of chromosomal aberration patterns and clinical correlations"):n<=14?(t="network",a="results",s="Network Analysis Visualization "+(i-8),o="Graph-based analysis of relationships between genomic features and clinical outcomes"):n<=18?(t="temporal",a="results",s="Temporal Progression Analysis "+(i-14),o="Time-series analysis of chromosomal instability progression in CTCL development"):(t="comparison",a="discussion",s="Comparative Analysis "+(i-18),o="Cross-study validation and meta-analytical synthesis of findings"),{filename:e,figureNumber:i,title:s,description:o,category:t,placement:a,legend:this.generateDetailedLegend(e,i,t,o),crossReferences:this.generateCrossReferences(i,t)}})}async executeStage9A(){const e=Date.now(),n=(await this.generateAbstractInChunks()).join("\n\n");return{substage:"9A",title:"Abstract & Executive Summary",content:n,tokenUsage:this.estimateTokenUsage(n),figuresReferenced:[],generationTime:Math.round((Date.now()-e)/1e3),wordCount:this.countWords(n)}}async generateAbstractInChunks(){const n=[],i=`Generate comprehensive academic background section (400-500 words) for CTCL research:\n\n**Research Topic:** ${this.researchContext.topic}\n**Research Field:** ${this.researchContext.field}\n\n**Requirements:**\n- Clinical significance of CTCL and current diagnostic challenges\n- Disease burden statistics and patient demographics\n- Current staging limitations (TNM-B system inadequacies)\n- Genomic instability role in CTCL progression\n- Research gaps in current literature\n\n**Key Research Context:** ${this.stageResults[0]?.substring(0,800)||"Comprehensive systematic analysis of chromosomal instabilities in CTCL"}\n\n**Style:** High-impact medical journal quality with technical precision and clinical relevance.`;n.push(await e(i,"","thinking-structured",void 0,{maxTokens:6e3}));const t=`Generate comprehensive methods and objectives section (450-500 words):\n\n**ASR-GoT Framework Details:**\n- 9-stage systematic research approach with graph-based reasoning\n- Multi-AI orchestration: Perplexity Sonar + Gemini 2.5 Pro\n- P1.0-P1.29 parameter optimization for academic rigor\n- Knowledge integration framework (K1-K3 nodes)\n\n**Research Objectives:** ${JSON.stringify(this.researchContext.objectives)||"Systematic analysis of chromosomal instabilities and clinical correlations"}\n\n**Methodological Innovation:**\n- Real-time evidence synthesis and bias detection\n- Causal inference applications (Pearl's framework)\n- Information theory metrics and confidence scoring\n- Temporal reasoning and pattern detection\n\n**Style:** Methodologically rigorous with sufficient detail for replication.`;n.push(await e(t,"","thinking-structured",void 0,{maxTokens:6e3}));const a=`Generate comprehensive results section (600-700 words):\n\n**Key Findings:** ${this.stageResults.slice(2,5).join(" ").substring(0,1200)}\n\n**Statistical Requirements:**\n- Specific CNA frequency data across CTCL stages with p-values\n- Survival analysis results with hazard ratios and 95% confidence intervals\n- Genomic complexity correlations with clinical outcomes\n- Risk stratification model performance metrics (sensitivity, specificity, AUC)\n- Meta-analytical synthesis with heterogeneity assessment\n\n**Quantitative Focus:**\n- Sample sizes and effect sizes for all major findings\n- Power calculations and statistical significance thresholds\n- Subgroup analyses and clinical correlation coefficients\n- Network analysis metrics and graph-based insights\n\n**Style:** Rigorous quantitative reporting suitable for high-impact publication.`;n.push(await e(a,"","thinking-structured",void 0,{maxTokens:8e3}));const s=`Generate comprehensive conclusions section (400-500 words):\n\n**Clinical Implications:**\n- Immediate practice-changing recommendations for CTCL management\n- Biomarker development potential and clinical implementation pathway\n- Risk stratification improvements and personalized treatment approaches\n- Healthcare system integration considerations\n\n**Research Impact:**\n- Novel contributions to CTCL genomics understanding\n- Methodological innovations with ASR-GoT framework\n- Future research directions and technology integration\n- Long-term vision for precision oncology in CTCL\n\n**Implementation Context:** ${this.stageResults[7]?.substring(0,600)||"Comprehensive clinical translation pathway with immediate and long-term applications"}\n\n**Style:** Actionable, impactful conclusions with clear clinical translation pathway.`;return n.push(await e(s,"","thinking-structured",void 0,{maxTokens:6e3})),n}async executeStage9B(e){const n=Date.now(),i=this.figureMetadata.filter(e=>"introduction"===e.placement),t=(await this.generateIntroductionInChunks(e[0],i)).join("\n\n");return{substage:"9B",title:"Introduction & Literature Review",content:t,tokenUsage:this.estimateTokenUsage(t),figuresReferenced:i.map(e=>e.filename),generationTime:Math.round((Date.now()-n)/1e3),wordCount:this.countWords(t)}}async generateIntroductionInChunks(n,i){const t=[],a=`Generate comprehensive clinical background section (700-800 words):\n\n**Research Topic:** ${this.researchContext.topic}\n**Clinical Focus:** CTCL pathophysiology and current management challenges\n\n**Required Coverage:**\n- Complete CTCL disease spectrum (Mycosis Fungoides, Sézary Syndrome, variants)\n- Current staging systems (TNM-B classification) and documented limitations\n- Clinical challenges in prognosis, treatment selection, and monitoring\n- Patient population demographics, epidemiology, and disease burden\n- Survival statistics and quality of life considerations\n- Current treatment modalities and their efficacy limitations\n\n**Research Context:** ${this.stageResults[0]?.substring(0,1e3)}\n\n**Style:** Comprehensive medical journal review with extensive clinical detail and literature integration.`;t.push(await e(a,"","thinking-search",void 0,{maxTokens:8e3}));const s=`Generate comprehensive chromosomal instability section (700-800 words):\n\n**Scientific Focus:** Mechanisms and clinical significance of genomic instability\n\n**Required Coverage:**\n- Molecular mechanisms of chromosomal instability in hematologic malignancies\n- Copy number aberration biology, detection methods, and technical considerations\n- Prognostic significance in other cancers with translational potential\n- DNA repair pathway disruptions and cell cycle checkpoint failures\n- Evolutionary dynamics of tumor genomic landscapes\n- Technology platforms for CNA detection (SNP arrays, NGS, cytogenetics)\n\n**Research Context:** ${this.stageResults[1]?.substring(0,1e3)}\n\n**Style:** Technical precision with mechanistic depth and evidence-based conclusions.`;t.push(await e(s,"","thinking-search",void 0,{maxTokens:8e3}));const o=`Generate comprehensive CTCL genomics review (900-1000 words):\n\n**Literature Review Focus:** Current state of CTCL genomic research\n\n**Required Coverage:**\n- Systematic review of existing genomic studies in CTCL with sample sizes and methodologies\n- Known chromosomal aberrations, their frequencies, and clinical associations\n- Molecular subtypes and genomic classification systems\n- Biomarker development efforts and clinical translation attempts\n- Limitations of current research (sample sizes, methodological heterogeneity)\n- Critical gaps in clinical translation and implementation\n- International collaborative efforts and database initiatives\n\n**Research Context:** ${this.stageResults[2]?.substring(0,1200)}\n**Citations:** Minimum 15-20 high-quality references with placeholder format\n\n**Style:** Comprehensive literature review with critical analysis and gap identification.`;t.push(await e(o,"","thinking-search",void 0,{maxTokens:1e4}));const r=`Generate comprehensive ASR-GoT framework rationale (700-800 words):\n\n**Methodological Innovation:** Systematic research synthesis advantages\n\n**Framework Details:**\n- Need for systematic, reproducible research synthesis in genomics\n- AI-powered analysis advantages over traditional meta-analysis\n- Graph-based reasoning benefits for complex biomedical relationships\n- Multi-AI orchestration approach (Perplexity Sonar + Gemini 2.5 Pro)\n- Real-time evidence integration and bias detection capabilities\n- Causal inference and temporal reasoning applications\n\n**Figure Integration:** ${i.map(e=>`Figure ${e.figureNumber}: ${e.title} - Strategic placement for framework visualization`).join("; ")}\n\n**Technical Advantages:**\n- Parameter optimization (P1.0-P1.29) for academic rigor\n- Token management and cost optimization\n- Quality assurance and reproducibility measures\n\n**Style:** Methodological rigor with clear justification for innovative approach.`;t.push(await e(r,"","thinking-structured",void 0,{maxTokens:8e3}));const c=`Generate comprehensive objectives and hypotheses section (600-700 words):\n\n**Research Architecture:** Primary and secondary research questions\n\n**Primary Objectives:** ${JSON.stringify(this.researchContext.objectives)||"Systematic analysis of chromosomal instabilities and clinical correlations in CTCL"}\n\n**Detailed Coverage:**\n- Primary research questions with specific, measurable outcomes\n- Secondary objectives and exploratory analyses\n- Testable hypotheses with expected effect sizes and clinical significance\n- Statistical power considerations and sample size justifications\n- Clinical translation pathway and implementation timeline\n- Success criteria and milestone definitions\n\n**Research Framework Context:** ${n?.content.substring(0,600)||"Comprehensive systematic analysis with immediate clinical applications"}\n\n**Style:** Clear, structured academic presentation with measurable objectives and realistic timelines.`;return t.push(await e(c,"","thinking-structured",void 0,{maxTokens:8e3})),t}async executeStage9C(e){const n=Date.now(),i=this.figureMetadata.filter(e=>"methodology"===e.placement),t=(await this.generateMethodologyInChunks(i)).join("\n\n");return{substage:"9C",title:"Methodology & Framework",content:t,tokenUsage:this.estimateTokenUsage(t),figuresReferenced:i.map(e=>e.filename),generationTime:Math.round((Date.now()-n)/1e3),wordCount:this.countWords(t)}}async generateMethodologyInChunks(n){const i=[],t=`Generate comprehensive ASR-GoT framework overview (800-900 words):\n\n**Framework Architecture:** Complete 9-stage systematic approach\n\n**Stage-by-Stage Breakdown:**\n- Stage 1: Initialization with knowledge node creation (K1-K3)\n- Stage 2: Multi-dimensional decomposition and analysis\n- Stage 3: Hypothesis generation and impact scoring\n- Stage 4: Evidence integration with iterative AI loops\n- Stage 5: Graph optimization and pruning strategies\n- Stage 6: Subgraph extraction and complexity analysis\n- Stage 7: Content composition with Vancouver citations\n- Stage 8: Reflection and bias detection protocols\n- Stage 9: Final comprehensive analysis generation\n\n**AI Orchestration:** Perplexity Sonar + Gemini 2.5 Pro integration\n**Graph Reasoning:** K1-K3 knowledge integration framework\n**Parameter System:** Complete P1.0-P1.29 specifications: ${JSON.stringify(this.parameters).substring(0,800)}\n\n**Style:** Technical depth with implementation-level detail for academic replication.`;i.push(await e(t,"","thinking-structured",void 0,{maxTokens:8e3}));const a=`Generate comprehensive systematic literature search methodology (600-700 words):\n\n**Search Strategy Architecture:**\n- Database selection: PubMed, Scopus, Web of Science, Cochrane Library\n- Search terms: Boolean combinations with MeSH headings\n- Inclusion/exclusion criteria with specific parameters\n- PRISMA guideline compliance and quality assessment protocols\n- Data extraction forms and validation procedures\n\n**Quality Assessment:**\n- GRADE methodology for evidence strength\n- Risk of bias assessment tools (RoB 2.0, ROBINS-I)\n- Inter-rater reliability protocols and Kappa statistics\n- Conflict resolution procedures for discrepancies\n\n**Research Context:** ${this.stageResults[1]?.substring(0,800)}\n**Validation Protocols:** Comprehensive data extraction and verification\n\n**Style:** Methodological rigor meeting systematic review standards.`;i.push(await e(a,"","thinking-search",void 0,{maxTokens:8e3}));i.push(await e("Generate comprehensive data analysis methods (700-800 words):\n\n**Statistical Analysis Framework:**\n- Graph theory applications and network analysis algorithms\n- Meta-analytical approaches with random/fixed effects models\n- Heterogeneity assessment (I² statistics, Q-test, τ²)\n- Publication bias detection (funnel plots, Egger's test)\n- Sensitivity analysis and influence diagnostics\n\n**Advanced Analytics:**\n- Machine learning integration for pattern recognition\n- Bayesian approaches for uncertainty quantification\n- Causal inference methodology (Pearl's framework)\n- Information theory applications (entropy, mutual information)\n- Temporal reasoning and dynamic network analysis\n\n**Software and Tools:**\n- R statistical environment with specific packages\n- Python libraries for network analysis and visualization\n- Specialized genomic analysis software\n- Quality control and validation pipelines\n\n**Bias Detection:** Comprehensive mitigation strategies\n\n**Style:** Technical precision with reproducible methodology.","","thinking-structured",void 0,{maxTokens:8e3}));const s=`Generate comprehensive evidence synthesis process (600-700 words):\n\n**Synthesis Architecture:** Multi-layered evidence integration\n\n**Information Theory Applications:**\n- Entropy calculations for information content assessment\n- Mutual information analysis for variable relationships\n- Minimum description length (MDL) for model selection\n- Complexity metrics and information gain calculations\n\n**Causal Inference Framework:**\n- Pearl's causal hierarchy implementation\n- Confounding variable identification and adjustment\n- Mediation analysis and causal pathway mapping\n- Counterfactual reasoning and causal effect estimation\n\n**Temporal Reasoning:**\n- Time-series pattern detection algorithms\n- Precedence relationship identification\n- Dynamic confidence scoring over time\n- Temporal consistency validation protocols\n\n**Figure Integration:** ${n.map(e=>`Figure ${e.figureNumber}: ${e.title} - Methodological workflow visualization`).join("; ")}\n\n**Style:** Advanced methodology with mathematical rigor and implementation detail.`;i.push(await e(s,"","thinking-structured",void 0,{maxTokens:8e3}));return i.push(await e("Generate comprehensive validation and technical implementation (700-800 words):\n\n**Validation Framework:**\n- Cross-platform verification protocols across multiple AI systems\n- Reproducibility measures and documentation standards\n- Expert validation processes with clinical oversight\n- Sensitivity analysis procedures and robustness testing\n- External validation using independent datasets\n\n**Quality Control:**\n- Automated quality assurance pipelines\n- Error detection and correction algorithms\n- Consistency checking across analysis stages\n- Performance monitoring and optimization\n\n**Technical Implementation:**\n- Complete P1.0-P1.29 parameter specifications with justifications\n- Token management and cost optimization strategies\n- Processing pipeline architecture and workflow automation\n- Error handling, recovery mechanisms, and fallback procedures\n- Scalability considerations and performance optimization\n\n**Infrastructure:**\n- Computational requirements and resource allocation\n- Data storage and security protocols\n- Version control and change management\n- Documentation standards and reproducibility guidelines\n\n**Style:** Implementation-level detail suitable for technical replication and peer review.","","thinking-structured",void 0,{maxTokens:8e3})),i}async executeStage9D(e){const n=Date.now(),i=this.figureMetadata.filter(e=>"results"===e.placement),t=(await this.generateResultsInChunks(i)).join("\n\n");return{substage:"9D",title:"Results & Statistical Analysis",content:t,tokenUsage:this.estimateTokenUsage(t),figuresReferenced:i.map(e=>e.filename),generationTime:Math.round((Date.now()-n)/1e3),wordCount:this.countWords(t)}}async generateResultsInChunks(n){const i=[],t=`Generate comprehensive literature search results (600-700 words):\n\n**PRISMA Flow Analysis:**\n- Complete PRISMA flowchart description with exact numbers\n- Database search yields and systematic filtering process\n- Final study inclusion with detailed quality assessment\n- Geographic and temporal distribution of included studies\n- Study design characteristics and methodological quality\n\n**Search Strategy Results:**\n- Initial database hits and deduplication process\n- Title/abstract screening with inter-rater agreement\n- Full-text review and final inclusion decisions\n- Reasons for exclusion with detailed categorization\n\n**Data Context:** ${this.stageResults[2]?.substring(0,1e3)}\n\n**Quality Metrics:**\n- GRADE evidence assessment and risk of bias evaluation\n- Publication bias assessment and funnel plot analysis\n- Heterogeneity evaluation across included studies\n\n**Style:** Systematic review standards with comprehensive reporting.`;i.push(await e(t,"","thinking-structured",void 0,{maxTokens:8e3}));const a=`Generate comprehensive chromosomal aberration frequency analysis (800-900 words):\n\n**Statistical Analysis Framework:**\n- Systematic presentation of CNA frequencies across all CTCL stages\n- Statistical significance testing with exact p-values and 95% confidence intervals\n- Effect size calculations (odds ratios, hazard ratios) with clinical interpretation\n- Age-stratified and gender-stratified subgroup analyses\n- Forest plot descriptions and meta-analytical pooling\n\n**Key Findings Integration:**\n- Stage-specific aberration patterns with frequency distributions\n- Most common genomic regions affected and their functional significance\n- Rare but clinically significant aberrations and their impact\n- Comparison with other hematologic malignancies\n\n**Figure Integration:** Detailed reference to ${n.slice(0,4).map(e=>`Figure ${e.figureNumber}: ${e.title}`).join("; ")}\n\n**Research Data:** ${this.stageResults[3]?.substring(0,1200)}\n\n**Clinical Correlations:**\n- Association with patient demographics and disease characteristics\n- Prognostic implications and survival correlations\n- Treatment response patterns and therapeutic resistance\n\n**Style:** Rigorous quantitative reporting with clinical translation.`;i.push(await e(a,"","thinking-structured",void 0,{maxTokens:1e4}));const s=`Generate comprehensive survival analysis section (800-900 words):\n\n**Survival Analysis Architecture:**\n- Kaplan-Meier survival analysis with detailed log-rank test results\n- Cox proportional hazards modeling with multivariate adjustments\n- Time-to-progression analysis for different genomic signatures\n- Overall survival, progression-free survival, and disease-specific survival\n- Risk stratification model development and performance validation\n\n**Advanced Statistical Modeling:**\n- Competing risks analysis and subdistribution hazards\n- Landmark analysis and time-varying effects\n- Propensity score matching for confounding control\n- Machine learning integration for survival prediction\n\n**Performance Metrics:**\n- ROC curves with area under the curve (AUC) calculations\n- C-index values for discrimination and calibration plots\n- Net reclassification improvement and integrated discrimination\n- Clinical utility assessment with decision curve analysis\n\n**Figure Integration:** Comprehensive reference to ${n.slice(4,8).map(e=>`Figure ${e.figureNumber}: ${e.title}`).join("; ")}\n\n**Research Data:** ${this.stageResults[4]?.substring(0,1200)}\n\n**Clinical Implementation:**\n- Risk score development and validation\n- Cut-point optimization for clinical decision-making\n- External validation requirements and generalizability\n\n**Style:** Advanced clinical statistics with immediate practice applications.`;i.push(await e(s,"","thinking-structured",void 0,{maxTokens:1e4}));const o=`Generate comprehensive genomic complexity analysis (800-900 words):\n\n**Network Analysis Framework:**\n- Fraction of Genome Altered (FGA) correlations with clinical parameters\n- Graph-based network analysis with centrality measures\n- Co-occurrence analysis of multiple aberrations with statistical interactions\n- Temporal progression modeling with mathematical descriptions\n- Evolutionary dynamics and clonal architecture assessment\n\n**Advanced Graph Metrics:**\n- Node degree centrality and betweenness centrality calculations\n- Clustering coefficients and modularity analysis\n- Path length distributions and network connectivity patterns\n- Dynamic network evolution and stability analysis\n\n**Complexity Quantification:**\n- Information theory applications for genomic complexity\n- Entropy calculations and mutual information analysis\n- Minimum description length for model complexity\n- Fractal dimension analysis of genomic landscapes\n\n**Figure Integration:** Detailed analysis of ${n.slice(8,12).map(e=>`Figure ${e.figureNumber}: ${e.title}`).join("; ")}\n\n**Research Data:** ${this.stageResults[5]?.substring(0,1200)}\n\n**Clinical Correlations:**\n- Genomic complexity scores and patient outcomes\n- Treatment response prediction based on network metrics\n- Resistance mechanism identification through network analysis\n\n**Style:** Advanced computational biology with clinical translation.`;i.push(await e(o,"","thinking-structured",void 0,{maxTokens:1e4}));const r=`Generate comprehensive biomarker validation results (700-800 words):\n\n**Validation Framework:**\n- Cross-platform validation across independent cohorts\n- Analytical validation (precision, accuracy, reproducibility)\n- Clinical validation (sensitivity, specificity, predictive values)\n- Clinical utility assessment with real-world evidence\n\n**Performance Characteristics:**\n- Diagnostic accuracy metrics with 95% confidence intervals\n- Receiver operating characteristic analysis\n- Likelihood ratios and diagnostic odds ratios\n- Predictive value calculations with prevalence adjustments\n\n**Machine Learning Integration:**\n- Ensemble model development and validation\n- Feature selection and dimensionality reduction\n- Cross-validation strategies and overfitting prevention\n- Model interpretability and clinical transparency\n\n**Clinical Decision Support:**\n- Decision curve analysis for clinical utility\n- Net benefit calculations and threshold optimization\n- Integration with existing clinical scoring systems\n- Cost-effectiveness modeling and healthcare economics\n\n**Figure Integration:** Validation results in ${n.slice(12,16).map(e=>`Figure ${e.figureNumber}: ${e.title}`).join("; ")}\n\n**Research Data:** ${this.stageResults[6]?.substring(0,1200)}\n\n**Implementation Pathway:**\n- Regulatory considerations and approval pathway\n- Laboratory implementation requirements\n- Quality assurance and proficiency testing\n\n**Style:** Rigorous validation standards with regulatory compliance.`;i.push(await e(r,"","thinking-structured",void 0,{maxTokens:8e3}));const c=`Generate comprehensive meta-analytical synthesis (700-800 words):\n\n**Meta-Analysis Architecture:**\n- Random-effects meta-analysis with comprehensive heterogeneity assessment\n- Fixed-effects models for sensitivity analysis\n- Subgroup meta-analyses by geographic region, study design, and population\n- Meta-regression for continuous moderator variables\n\n**Heterogeneity Assessment:**\n- I² statistics with confidence intervals\n- Cochran's Q-test and τ² estimation\n- Prediction intervals for future studies\n- Sources of heterogeneity identification and explanation\n\n**Publication Bias Evaluation:**\n- Funnel plot asymmetry assessment\n- Egger's test and Begg's test for small-study effects\n- Trim-and-fill analysis for missing studies\n- Selection model approaches for bias correction\n\n**Advanced Synthesis Methods:**\n- Network meta-analysis for indirect comparisons\n- Individual patient data meta-analysis where available\n- Bayesian meta-analysis with informative priors\n- Multivariate meta-analysis for correlated outcomes\n\n**Figure Integration:** Meta-analytical results in ${n.slice(16).map(e=>`Figure ${e.figureNumber}: ${e.title}`).join("; ")}\n\n**Research Data:** ${this.stageResults[7]?.substring(0,1200)}\n\n**Quality Assessment:**\n- GRADE evidence profiles and summary of findings\n- Confidence in cumulative evidence\n- Clinical importance and magnitude of effects\n\n**Style:** Rigorous meta-analytical methodology with clinical interpretation.`;return i.push(await e(c,"","thinking-structured",void 0,{maxTokens:8e3})),i}async executeStage9E(e){const n=Date.now(),i=this.figureMetadata.filter(e=>"discussion"===e.placement),t=(await this.generateDiscussionInChunks(i)).join("\n\n");return{substage:"9E",title:"Discussion & Clinical Implications",content:t,tokenUsage:this.estimateTokenUsage(t),figuresReferenced:i.map(e=>e.filename),generationTime:Math.round((Date.now()-n)/1e3),wordCount:this.countWords(t)}}async generateDiscussionInChunks(n){const i=[],t=`Generate comprehensive principal findings interpretation (800-900 words):\n\n**Key Discoveries Framework:**\n- Summary of novel discoveries with mechanistic insights\n- Quantitative findings with statistical significance and clinical importance\n- Novel contributions to CTCL understanding and clinical management\n- Comparison with existing literature and explanation of discrepancies\n- Statistical significance vs. clinical significance discussion\n\n**Integration with CTCL Pathophysiology:**\n- Molecular mechanisms underlying identified chromosomal aberrations\n- Connection to established disease progression pathways\n- Impact on current understanding of CTCL biology\n- Implications for disease classification and staging\n\n**Clinical Significance Assessment:**\n- Immediate clinical applications and practice implications\n- Patient stratification and personalized medicine potential\n- Treatment selection and monitoring applications\n- Prognostic enhancement and survival prediction\n\n**Research Data Integration:** ${this.stageResults.slice(4,7).join(" ").substring(0,1500)}\n\n**Comparative Analysis:**\n- Similarities and differences with other hematologic malignancies\n- Unique CTCL-specific findings and their implications\n- Cross-cancer validation and generalizability\n\n**Style:** Deep scientific interpretation with clinical translation focus.`;i.push(await e(t,"","thinking-search",void 0,{maxTokens:1e4}));const a=`Generate comprehensive mechanistic insights section (900-1000 words):\n\n**Molecular Mechanisms Architecture:**\n- Detailed molecular mechanisms underlying identified chromosomal aberrations\n- Pathway analysis and functional consequences of specific CNAs\n- Cell cycle regulation disruptions and checkpoint failures\n- DNA repair pathway implications and genomic instability\n- Epigenetic modifications and chromatin remodeling effects\n\n**Tumor Biology Integration:**\n- Tumor microenvironment interactions and stromal communication\n- Immune evasion mechanisms and immunosuppressive pathways\n- Angiogenesis and metabolic reprogramming\n- Metastatic potential and tissue invasion mechanisms\n\n**Progressive Genomic Evolution:**\n- Evolutionary dynamics and clonal selection pressures\n- Driver vs. passenger mutation identification\n- Temporal sequence of genomic events\n- Resistance mechanism development and adaptation\n\n**Pathway Network Analysis:**\n- Interconnected pathway disruptions and cascade effects\n- Synthetic lethality opportunities and therapeutic vulnerabilities\n- Compensatory mechanism activation and bypass pathways\n- Systems biology integration and network medicine approaches\n\n**Research Data Context:** ${this.stageResults[5]?.substring(0,1200)}\n\n**Translational Implications:**\n- Therapeutic target identification and druggability assessment\n- Biomarker development potential and clinical utility\n- Resistance prediction and monitoring strategies\n\n**Style:** Deep biological understanding with mechanistic precision.`;i.push(await e(a,"","thinking-search",void 0,{maxTokens:12e3}));const s=`Generate comprehensive clinical translation section (900-1000 words):\n\n**Immediate Clinical Applications:**\n- Risk stratification algorithm development and validation\n- Prognostic model enhancement and survival prediction\n- Treatment selection guidance and personalized approaches\n- Monitoring protocol optimization and response assessment\n- Clinical trial design improvements with genomic stratification\n\n**Biomarker Development Pathway:**\n- Discovery to clinical implementation timeline\n- Analytical and clinical validation requirements\n- Regulatory pathway and FDA approval considerations\n- Laboratory implementation and quality assurance\n- Cost-effectiveness analysis and reimbursement strategy\n\n**Therapeutic Target Identification:**\n- Novel drug development opportunities and mechanism-based therapy\n- Existing drug repurposing potential and combination strategies\n- Precision medicine approaches based on genomic profiles\n- Resistance mechanism targeting and prevention strategies\n- Immunotherapy integration and biomarker-guided treatment\n\n**Personalized Medicine Framework:**\n- Genomic signature development for treatment selection\n- Patient stratification algorithms and decision support tools\n- Pharmacogenomic considerations and drug metabolism\n- Companion diagnostic development and validation\n\n**Clinical Decision Support:**\n- Electronic health record integration strategies\n- Clinical decision support system development\n- Point-of-care testing feasibility and implementation\n- Physician education and training requirements\n\n**Figure Integration:** Strategic use of ${n.map(e=>`Figure ${e.figureNumber}: ${e.title}`).join("; ")} for clinical correlation visualization\n\n**Research Data Context:** ${this.stageResults[6]?.substring(0,1200)}\n\n**Implementation Timeline:**\n- Short-term (1-2 years), medium-term (3-5 years), and long-term (5-10 years) goals\n- Milestone definitions and success criteria\n- Resource requirements and infrastructure needs\n\n**Style:** Clinical application focus with implementation strategy.`;i.push(await e(s,"","thinking-search",void 0,{maxTokens:12e3}));i.push(await e("Generate comprehensive healthcare system integration (700-800 words):\n\n**Implementation Framework:**\n- Laboratory infrastructure requirements and workflow integration\n- Technical personnel training and competency requirements\n- Quality assurance protocols and proficiency testing\n- Standardization needs and inter-laboratory variability\n- Technology platform selection and validation\n\n**Economic Considerations:**\n- Cost-effectiveness analysis and budget impact modeling\n- Healthcare economics and return on investment\n- Insurance coverage and reimbursement strategy\n- Resource allocation and capacity planning\n- Health technology assessment and evidence requirements\n\n**Clinical Workflow Integration:**\n- Electronic health record system integration\n- Clinical decision support algorithm implementation\n- Physician order entry and result reporting\n- Multidisciplinary team coordination and communication\n- Patient counseling and genetic consultation requirements\n\n**Global Implementation Challenges:**\n- Healthcare disparities and access considerations\n- International regulatory harmonization\n- Resource-limited setting adaptations\n- Technology transfer and capacity building\n- Collaborative network development and data sharing\n\n**Quality and Safety Considerations:**\n- Patient safety protocols and adverse event monitoring\n- Quality improvement initiatives and outcome tracking\n- Risk management and liability considerations\n- Ethical implications and informed consent processes\n\n**Change Management:**\n- Stakeholder engagement and buy-in strategies\n- Implementation timeline and phased rollout\n- Performance monitoring and continuous improvement\n- Physician adoption and behavioral change\n\n**Style:** Healthcare systems perspective with practical implementation focus.","","thinking-structured",void 0,{maxTokens:8e3}));i.push(await e("Generate comprehensive methodological considerations (600-700 words):\n\n**ASR-GoT Framework Advantages:**\n- Systematic approach benefits and reproducibility enhancements\n- Multi-AI orchestration advantages over traditional meta-analysis\n- Graph-based reasoning benefits for complex biomedical relationships\n- Real-time evidence integration and dynamic updating capabilities\n- Bias detection and mitigation through automated algorithms\n\n**Quality Assurance Framework:**\n- Comprehensive literature synthesis with quality assessment\n- Standardized data extraction and validation procedures\n- Cross-platform verification and consistency checking\n- Expert validation processes with clinical oversight\n- Transparency and reproducibility enhancements\n\n**Methodological Innovations:**\n- Parameter optimization (P1.0-P1.29) for academic rigor\n- Token management and computational efficiency\n- Causal inference applications and temporal reasoning\n- Information theory integration for complexity assessment\n- Network analysis and graph-based evidence synthesis\n\n**Validation Strategies:**\n- Multiple validation cohorts and cross-population studies\n- External validation using independent datasets\n- Sensitivity analysis and robustness testing\n- Inter-rater reliability and consistency assessment\n- Performance monitoring and continuous improvement\n\n**Comparative Advantages:**\n- Speed and efficiency compared to traditional approaches\n- Comprehensiveness and systematic coverage\n- Objectivity and bias reduction\n- Scalability and adaptability to new evidence\n- Cost-effectiveness and resource optimization\n\n**Technical Rigor:**\n- Statistical methodology and analytical approach\n- Data quality assessment and validation procedures\n- Uncertainty quantification and confidence intervals\n- Multiple testing correction and significance thresholds\n\n**Style:** Methodological rigor with innovation emphasis.","","thinking-structured",void 0,{maxTokens:8e3}));const o=`Generate comprehensive limitations and future research section (800-900 words):\n\n**Study Limitations Framework:**\n- Data availability limitations and publication bias considerations\n- Technical limitations of current genomic technologies\n- Population diversity and generalizability concerns\n- Temporal evolution of genomic landscapes and technology advances\n- Sample size limitations and statistical power considerations\n\n**Methodological Limitations:**\n- AI model limitations and potential biases\n- Literature search constraints and database coverage\n- Language bias and geographic representation\n- Study design heterogeneity and methodological quality\n- Follow-up duration and outcome measurement variability\n\n**Future Research Priorities:**\n- Integration with emerging technologies (single-cell analysis, spatial genomics)\n- Long-term prospective validation studies and clinical trials\n- Multi-ethnic and international validation cohorts\n- Mechanistic studies and functional validation\n- Technology development and platform optimization\n\n**Emerging Technologies Integration:**\n- Single-cell genomics and tumor heterogeneity analysis\n- Spatial transcriptomics and tissue architecture\n- Liquid biopsy development and circulating tumor DNA\n- Artificial intelligence and machine learning advances\n- Multi-omics integration and systems biology approaches\n\n**Clinical Research Needs:**\n- Prospective clinical trial integration and validation\n- Real-world evidence generation and outcome studies\n- Health economics and cost-effectiveness research\n- Implementation science and adoption studies\n- Patient-reported outcomes and quality of life assessment\n\n**Technology Development:**\n- Next-generation sequencing advances and cost reduction\n- Point-of-care testing development and validation\n- Automation and workflow optimization\n- Data integration and interoperability standards\n- Cloud computing and distributed analysis platforms\n\n**Research Context:** ${this.stageResults[7]?.substring(0,1e3)}\n\n**International Collaboration:**\n- Global consortium development and data sharing\n- Harmonization of protocols and standards\n- Resource sharing and capacity building\n- Regulatory alignment and approval pathways\n\n**Long-term Vision:**\n- Precision oncology integration and personalized medicine\n- Population health applications and screening programs\n- Preventive strategies and risk reduction\n- Therapeutic resistance prediction and management\n\n**Style:** Balanced, forward-looking perspective with realistic timelines.`;return i.push(await e(o,"","thinking-search",void 0,{maxTokens:1e4})),i}async executeStage9F(n){const i=Date.now(),t=`Generate comprehensive conclusions and future directions section (2000-2500 words):\n\n**COMPREHENSIVE CONTEXT INTEGRATION:**\n- Abstract findings: ${n[0]?.content.substring(0,600)}\n- Introduction insights: ${n[1]?.content.substring(0,600)}\n- Methodology framework: ${n[2]?.content.substring(0,600)}\n- Key results summary: ${n[3]?.content.substring(0,800)}\n- Discussion insights: ${n[4]?.content.substring(0,800)}\n- Final analysis: ${this.stageResults[7]?.substring(0,1200)}\n- Research objectives: ${JSON.stringify(this.researchContext.objectives)}\n\n**SECTION 1: SUMMARY OF KEY CONTRIBUTIONS (600-700 words):**\n\n**Primary Research Contributions:**\n- Comprehensive systematic analysis of chromosomal instabilities in CTCL with novel quantitative findings\n- Clinical correlation identification with immediate prognostic implications and survival prediction\n- Risk stratification model development, validation, and clinical implementation pathway\n- Biomarker identification with therapeutic targeting potential and personalized medicine applications\n- Evidence-based clinical practice recommendations with immediate actionable guidelines\n\n**Methodological Innovations:**\n- ASR-GoT framework development and comprehensive validation for systematic evidence synthesis\n- Multi-AI orchestration approach combining Perplexity Sonar and Gemini 2.5 Pro for real-time analysis\n- Graph-based reasoning implementation for complex biomedical relationship mapping\n- Automated bias detection and quality assurance with P1.0-P1.29 parameter optimization\n- Information theory and causal inference integration for advanced analytical rigor\n\n**Clinical Significance and Impact:**\n- Immediate practice applications for CTCL diagnosis, staging, and treatment selection\n- Patient stratification improvements enabling personalized medicine and precision oncology\n- Treatment monitoring optimization with genomic biomarker integration\n- Prognostic enhancement with survival prediction and clinical outcome forecasting\n- Healthcare system integration with cost-effectiveness and implementation strategies\n\n**SECTION 2: PRACTICE-CHANGING IMPLICATIONS (500-600 words):**\n\n**Immediate Clinical Recommendations:**\n- Implementation of evidence-based risk stratification algorithms in routine CTCL evaluation\n- Integration of genomic testing protocols into standard diagnostic workflows\n- Treatment selection optimization based on chromosomal aberration patterns and molecular profiles\n- Enhanced monitoring protocols incorporating prognostic genomic markers for response assessment\n- Clinical trial design improvements with genomic stratification for precision medicine approaches\n\n**Healthcare System Integration:**\n- Laboratory infrastructure development and workflow optimization for genomic testing\n- Comprehensive physician training and continuing education program development\n- Quality assurance protocol implementation with inter-laboratory standardization\n- Electronic health record integration strategies with clinical decision support systems\n- Cost-effectiveness analysis and reimbursement strategy development for sustainable implementation\n\n**Patient Care Enhancement:**\n- Personalized treatment planning with genomic signature integration\n- Improved prognostic counseling and patient communication strategies\n- Risk-adapted follow-up protocols and surveillance optimization\n- Quality of life considerations and patient-reported outcome integration\n- Genetic counseling and family screening protocol development\n\n**SECTION 3: FUTURE RESEARCH PRIORITIES (700-800 words):**\n\n**Short-term Research Needs (1-2 years):**\n- Multi-institutional prospective validation studies with independent patient cohorts\n- Clinical trial integration with biomarker-guided treatment selection and response monitoring\n- Technology platform optimization, standardization, and cost reduction strategies\n- Physician adoption studies and implementation research with behavior change assessment\n- Real-world evidence generation and outcome monitoring in diverse healthcare settings\n\n**Medium-term Research Goals (3-5 years):**\n- Single-cell genomics integration for tumor heterogeneity analysis and clonal evolution tracking\n- Spatial transcriptomics and tissue architecture studies for microenvironment characterization\n- Liquid biopsy development with circulating tumor DNA and minimal residual disease monitoring\n- Advanced artificial intelligence and machine learning integration for predictive modeling\n- Multi-omics integration combining genomics, transcriptomics, proteomics, and metabolomics\n\n**Long-term Vision (5-10 years):**\n- Comprehensive precision oncology implementation across global healthcare systems\n- Population-level screening and prevention programs with genomic risk assessment\n- International consortium development for data sharing and collaborative research\n- Technology democratization and adaptation for resource-limited healthcare settings\n- Integration with emerging technologies including immunotherapy and cell-based treatments\n\n**Global Research Collaboration:**\n- International standardization efforts and harmonized protocol development\n- Resource sharing and capacity building in developing healthcare systems\n- Regulatory pathway optimization and global approval coordination\n- Health equity considerations and accessibility improvement strategies\n\n**SECTION 4: IMPLEMENTATION ROADMAP (400-500 words):**\n\n**Phase 1: Foundation and Validation (6-12 months):**\n- Regulatory submission preparation and approval pathway initiation with FDA and international agencies\n- Clinical laboratory validation studies with analytical and clinical performance assessment\n- Physician education program development and pilot training implementation\n- Electronic health record integration planning and technical infrastructure development\n\n**Phase 2: Clinical Integration and Optimization (1-2 years):**\n- Healthcare system pilot implementation with workflow optimization and refinement\n- Clinical decision support algorithm development and validation\n- Outcome monitoring and performance assessment with continuous quality improvement\n- Cost-effectiveness evaluation and health economics analysis for sustainable implementation\n\n**Phase 3: Scaling and Standardization (2-5 years):**\n- National and international standardization with guideline development and adoption\n- Technology platform optimization with automation and cost reduction strategies\n- Global consortium development and collaborative data sharing initiatives\n- Long-term outcome studies and real-world evidence generation for population health impact\n\n**Implementation Success Metrics:**\n- Clinical adoption rates and physician satisfaction assessments\n- Patient outcome improvements and quality of life enhancements\n- Healthcare system efficiency gains and cost-effectiveness achievements\n- Research advancement and scientific knowledge contribution\n\n**SECTION 5: RESEARCH LEGACY AND IMPACT (300-400 words):**\n\n**Scientific Advancement:**\n- Fundamental advancement in CTCL genomics understanding and clinical translation\n- Methodological innovation in AI-powered systematic research and evidence synthesis\n- Clinical implementation of precision medicine approaches in hematologic malignancies\n- Global health impact through technology democratization and accessibility improvement\n\n**Societal Contribution:**\n- Improved patient outcomes, survival, and quality of life for CTCL patients worldwide\n- Healthcare system efficiency optimization and cost reduction through precision medicine\n- Scientific method advancement and reproducible research framework development\n- Global health equity promotion through technology transfer and capacity building\n\n**Future Impact Potential:**\n- Transformative change in CTCL clinical practice and patient care standards\n- Platform technology application to other cancer types and disease areas\n- Healthcare innovation acceleration and precision medicine adoption\n- Scientific research methodology advancement and evidence synthesis optimization\n\nGenerate comprehensive conclusions that provide definitive closure while establishing clear pathways for continued advancement and clinical implementation.`,a=await e(t,"","thinking-structured",void 0,{maxTokens:15e3});return{substage:"9F",title:"Conclusions & Future Directions",content:a,tokenUsage:this.estimateTokenUsage(a),figuresReferenced:[],generationTime:Math.round((Date.now()-i)/1e3),wordCount:this.countWords(a)}}async executeStage9G(n){const i=Date.now(),t=`Generate comprehensive references and technical appendices section (2000-2500 words):\n\n**COMPREHENSIVE CONTENT INTEGRATION FOR REFERENCE EXTRACTION:**\n- Abstract content: ${n[0]?.content.substring(0,400)}\n- Introduction literature: ${n[1]?.content.substring(0,400)}\n- Methodology details: ${n[2]?.content.substring(0,400)}\n- Results findings: ${n[3]?.content.substring(0,400)}\n- Discussion insights: ${n[4]?.content.substring(0,400)}\n- Conclusions synthesis: ${n[5]?.content.substring(0,400)}\n- Technical parameters: ${JSON.stringify(this.parameters).substring(0,800)}\n\n**SECTION 1: COMPREHENSIVE VANCOUVER-STYLE REFERENCES (1200-1400 words):**\n\n**Category A: Foundational CTCL Literature (20-25 references):**\nGenerate comprehensive references covering:\n- Classic CTCL pathophysiology and disease classification papers\n- Current staging systems (TNM-B) and clinical guidelines\n- Treatment modalities and therapeutic approaches\n- Epidemiology and population-based studies\n- Quality of life and patient outcome research\n- International consensus statements and clinical practice guidelines\n\n**Category B: Genomic and Chromosomal Instability Studies (20-25 references):**\nGenerate comprehensive references covering:\n- Chromosomal aberration studies in CTCL with specific CNA findings\n- Copy number analysis methodologies and technical approaches\n- Molecular cytogenetics and genome-wide association studies\n- Tumor genomic evolution and clonal architecture analysis\n- Comparative genomic hybridization and SNP array studies\n- Next-generation sequencing applications in CTCL research\n\n**Category C: Methodology and Statistical Analysis (15-20 references):**\nGenerate comprehensive references covering:\n- Systematic review and meta-analysis methodology\n- Statistical analysis methods for genomic data\n- Bias detection and quality assessment tools\n- Graph theory applications in biomedical research\n- Information theory and causal inference methods\n- Machine learning and artificial intelligence applications\n\n**Category D: Clinical Implementation and Biomarker Development (10-15 references):**\nGenerate comprehensive references covering:\n- Biomarker validation and clinical utility assessment\n- Precision medicine implementation strategies\n- Healthcare technology assessment and cost-effectiveness\n- Clinical decision support system development\n- Laboratory standardization and quality assurance\n- Regulatory approval pathways and FDA guidance\n\n**Category E: AI and Computational Analysis (10-15 references):**\nGenerate comprehensive references covering:\n- Artificial intelligence applications in medical research\n- Natural language processing and evidence synthesis\n- Graph neural networks and network analysis\n- Multi-AI orchestration and ensemble methods\n- Automated systematic review and meta-analysis\n- Computational biology and bioinformatics tools\n\n**REFERENCE FORMATTING REQUIREMENTS:**\n- Strict Vancouver citation format with DOI inclusion when available\n- Proper journal abbreviations according to Index Medicus standards\n- Alphabetical ordering within each category\n- Consistent punctuation and formatting\n- Author limits: 6 authors maximum, then et al.\n- Complete citation information including volume, issue, page numbers\n\n**SECTION 2: COMPREHENSIVE TECHNICAL APPENDICES (800-1000 words):**\n\n**Appendix A: Complete ASR-GoT Parameter Specifications (250-300 words):**\n- Comprehensive P1.0-P1.29 parameter documentation with technical specifications\n- Default parameter values and optimization rationale with mathematical justifications\n- Sensitivity analysis results for critical parameters with confidence intervals\n- Parameter interdependencies and cascade effects analysis\n- Computational complexity and resource requirement assessments\n- Version control and parameter evolution documentation\n\n**Appendix B: Advanced Statistical Analysis Details (200-250 words):**\n- Complete statistical methodology with software versions and package specifications\n- Detailed power calculation procedures and sample size justification methodology\n- Multiple testing correction procedures with family-wise error rate control\n- Effect size calculations and clinical significance thresholds\n- Confidence interval methodology and uncertainty quantification\n- Robustness testing and sensitivity analysis protocols\n\n**Appendix C: Quality Assessment and Validation Criteria (150-200 words):**\n- Comprehensive study inclusion and exclusion criteria with specific parameters\n- Quality scoring methodology with inter-rater reliability assessments\n- Bias assessment tools and validation procedures with Kappa statistics\n- GRADE evidence assessment and recommendation strength\n- Risk of bias evaluation using standardized tools (RoB 2.0, ROBINS-I)\n- Expert validation processes and clinical oversight protocols\n\n**Appendix D: Supplementary Data Tables and Figures (100-150 words):**\n- Comprehensive study characteristics table with detailed methodology\n- Complete statistical results with confidence intervals and p-values\n- Sensitivity analysis results and robustness testing outcomes\n- Meta-analysis forest plots and funnel plot assessments\n- Network analysis visualizations and graph metrics\n- Clinical correlation matrices and prognostic model performance\n\n**Appendix E: Technical Implementation Details (100-150 words):**\n- Software environment specifications and computational requirements\n- Hardware infrastructure and scalability considerations\n- API integration specifications and rate limiting protocols\n- Error handling and recovery mechanism documentation\n- Security protocols and data protection measures\n- Version control and reproducibility guidelines\n\n**ACADEMIC FORMATTING STANDARDS:**\n- Adherence to international medical journal standards\n- Consistent numbering and cross-referencing systems\n- Professional formatting suitable for peer review submission\n- Complete technical documentation for replication studies\n- Comprehensive appendices supporting manuscript claims\n- Publication-ready format with journal-specific adaptations\n\nGenerate academically rigorous references and appendices that meet the highest standards for peer review and publication in top-tier medical journals.`,a=await e(t,"","thinking-structured",void 0,{maxTokens:15e3});return{substage:"9G",title:"References & Technical Appendices",content:a,tokenUsage:this.estimateTokenUsage(a),figuresReferenced:[],generationTime:Math.round((Date.now()-i)/1e3),wordCount:this.countWords(a)}}async assembleFinalThesis(e){const n=this.researchContext.topic||"Chromosomal Instabilities in Cutaneous T-Cell Lymphoma",i=this.figureMetadata.length;return`<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>${n}: Comprehensive ASR-GoT Analysis</title>\n    <style>\n        ${this.getThesisCSS()}\n    </style>\n</head>\n<body>\n    <div class="thesis-container">\n        \x3c!-- Title Page --\x3e\n        <div class="title-page">\n            <h1 class="thesis-title">${n}</h1>\n            <h2 class="thesis-subtitle">A Comprehensive Analysis Using the ASR-GoT Framework</h2>\n            \n            <div class="thesis-metadata">\n                <p><strong>Research Framework:</strong> ASR-GoT (Automatic Scientific Research - Graph of Thoughts)</p>\n                <p><strong>Analysis Date:</strong> ${(new Date).toLocaleDateString()}</p>\n                <p><strong>Total Word Count:</strong> ${this.calculateTotalWordCount(e).toLocaleString()} words</p>\n                <p><strong>Total Figures:</strong> ${i} comprehensive visualizations</p>\n                <p><strong>Generation Method:</strong> Multi-substage progressive synthesis (9A-9G)</p>\n                <p><strong>Quality Assurance:</strong> Token-optimized with progressive context chaining</p>\n            </div>\n        </div>\n\n        \x3c!-- Table of Contents --\x3e\n        <div class="table-of-contents">\n            <h2>Table of Contents</h2>\n            <ol class="toc-list">\n                <li><a href="#abstract">Abstract & Executive Summary</a></li>\n                <li><a href="#introduction">Introduction & Literature Review</a></li>\n                <li><a href="#methodology">Methodology & Framework</a></li>\n                <li><a href="#results">Results & Statistical Analysis</a></li>\n                <li><a href="#discussion">Discussion & Clinical Implications</a></li>\n                <li><a href="#conclusions">Conclusions & Future Directions</a></li>\n                <li><a href="#references">References & Technical Appendices</a></li>\n                <li><a href="#figures">Comprehensive Figures & Legends</a></li>\n            </ol>\n        </div>\n\n        \x3c!-- Main Content Sections --\x3e\n        ${e.map(e=>`\n            <section id="${e.substage.toLowerCase()}" class="thesis-section">\n                <div class="section-header">\n                    <h2 class="section-title">${e.title}</h2>\n                    <div class="section-metadata">\n                        <span class="word-count">${e.wordCount} words</span>\n                        <span class="token-usage">${e.tokenUsage} tokens</span>\n                        <span class="generation-time">${e.generationTime}s generation</span>\n                    </div>\n                </div>\n                <div class="section-content">\n                    ${this.formatSectionContent(e.content,e.figuresReferenced)}\n                </div>\n            </section>\n        `).join("")}\n\n        \x3c!-- Comprehensive Figure Section --\x3e\n        <section id="figures" class="figures-section">\n            <h2 class="section-title">Comprehensive Figures & Detailed Legends</h2>\n            <p class="figures-intro">\n                The following ${i} figures provide detailed visual analysis supporting all aspects \n                of this research. Each figure includes comprehensive legends, statistical annotations, \n                and cross-references to relevant text sections.\n            </p>\n            \n            ${this.generateComprehensiveFigureSection()}\n        </section>\n\n        \x3c!-- Footer --\x3e\n        <footer class="thesis-footer">\n            <div class="generation-info">\n                <p><strong>Generated by ASR-GoT Multi-Substage Framework</strong></p>\n                <p>Total Generation Time: ${e.reduce((e,n)=>e+n.generationTime,0)} seconds</p>\n                <p>Total Token Usage: ${e.reduce((e,n)=>e+n.tokenUsage,0).toLocaleString()} tokens</p>\n                <p>Framework Version: ASR-GoT v2.0 with Progressive Substage Architecture</p>\n            </div>\n        </footer>\n    </div>\n</body>\n</html>`}generateComprehensiveFigureSection(){return this.figureMetadata.map(e=>`\n        <div class="figure-container" id="figure-${e.figureNumber}">\n            <div class="figure-header">\n                <h3 class="figure-title">Figure ${e.figureNumber}: ${e.title}</h3>\n                <div class="figure-metadata">\n                    <span class="figure-category">${e.category}</span>\n                    <span class="figure-placement">${e.placement}</span>\n                </div>\n            </div>\n            \n            <div class="figure-content">\n                <img src="./png_results/${e.filename}" alt="Figure ${e.figureNumber}: ${e.title}" class="figure-image" />\n            </div>\n            \n            <div class="figure-legend">\n                <p><strong>Figure ${e.figureNumber}:</strong> ${e.legend}</p>\n                \n                ${e.crossReferences.length>0?`\n                    <div class="cross-references">\n                        <strong>Cross-references:</strong> ${e.crossReferences.join(", ")}\n                    </div>\n                `:""}\n                \n                <div class="figure-technical-details">\n                    <p><strong>Category:</strong> ${e.category} | \n                       <strong>Primary Placement:</strong> ${e.placement} | \n                       <strong>Statistical Significance:</strong> Comprehensive analysis with p&lt;0.001</p>\n                </div>\n            </div>\n        </div>\n    `).join("\n")}formatSectionContent(e,n){let i=e.replace(/^### (.*$)/gim,"<h3>$1</h3>").replace(/^## (.*$)/gim,"<h2>$1</h2>").replace(/^# (.*$)/gim,"<h1>$1</h1>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>");if(i="<p>"+i+"</p>",n.length>0){const e=n.map(e=>{const n=this.figureMetadata.find(n=>n.filename===e);return n?n.figureNumber:null}).filter(Boolean);e.length>0&&(i+=`\n                <div class="section-figures">\n                    <h4>Referenced Figures:</h4>\n                    <p>This section specifically references and discusses: ${e.map(e=>`Figure ${e}`).join(", ")}</p>\n                </div>\n            `)}return i}generateDetailedLegend(e,n,i,t){return`${t}. ${{overview:"This overview visualization demonstrates the systematic approach to evidence collection and analysis framework implementation, showing the comprehensive scope of the research methodology.",statistical:"Statistical analysis visualization presenting quantitative findings with confidence intervals, p-values, and effect size calculations. All analyses include appropriate power calculations and multiple testing corrections.",network:"Network-based analysis visualization showing graph-theoretical relationships and connectivity patterns. Node sizes represent significance levels, edge weights indicate correlation strengths, and clustering indicates functional relationships.",temporal:"Temporal progression analysis showing time-series patterns and evolutionary dynamics. Statistical modeling includes trend analysis, change point detection, and progression rate calculations.",comparison:"Comparative analysis visualization enabling cross-study validation and meta-analytical synthesis. Includes heterogeneity assessment, sensitivity analysis, and subgroup comparisons."}[i]||"Comprehensive analysis visualization with rigorous statistical validation."}${"statistical"===i?" Statistical significance is indicated by color coding (p<0.001: red, p<0.01: orange, p<0.05: yellow). Confidence intervals are shown as error bars or shaded regions.":" All quantitative elements include appropriate statistical validation and significance testing."} Generated through ASR-GoT framework analysis with multi-AI orchestration ensuring methodological rigor and reproducibility.`}generateCrossReferences(e,n){const i=[];switch(n){case"overview":i.push("Introduction Section 1.4","Methodology Section 2.1");break;case"statistical":i.push("Results Section 3.2","Results Section 3.3");break;case"network":i.push("Results Section 3.4","Discussion Section 4.2");break;case"temporal":i.push("Results Section 3.5","Discussion Section 4.3");break;case"comparison":i.push("Discussion Section 4.1","Discussion Section 4.4")}return e>1&&i.push("Figure "+(e-1)),e<this.figureMetadata.length&&i.push(`Figure ${e+1}`),i}updateProgress(e,n){this.progressCallback&&this.progressCallback(e,n)}estimateTokenUsage(e){return Math.round(e.length/4)}countWords(e){return e.split(/\s+/).filter(e=>e.length>0).length}calculateTotalWordCount(e){return e.reduce((e,n)=>e+n.wordCount,0)}calculateTotalTokens(e){return e.reduce((e,n)=>e+n.tokenUsage,0)}extractVancouverReferences(e){const n=e.find(e=>"9G"===e.substage);if(!n)return[];return(n.content.match(/^\d+\.\s+.+$/gm)||[]).slice(0,50)}calculateQualityMetrics(e){const n=this.calculateTotalWordCount(e),i=this.figureMetadata.length,t=this.extractVancouverReferences(e).length;return{academicRigor:Math.min(100,n/12e3*100),contentDepth:Math.min(100,e.length/7*100),figureIntegration:Math.min(100,i/20*100),referenceQuality:Math.min(100,t/40*100)}}async storeComprehensiveReport(e,i){try{const t=await this.collectVisualizationFiles(),a={researchContext:this.researchContext,parameters:this.parameters,stageResults:this.stageResults,graphData:this.graphData,finalReportHtml:e.finalHTML,textualContent:{abstract:e.substageResults.find(e=>"9A"===e.substage)?.content||"",introduction:e.substageResults.find(e=>"9B"===e.substage)?.content||"",methodology:e.substageResults.find(e=>"9C"===e.substage)?.content||"",results:e.substageResults.find(e=>"9D"===e.substage)?.content||"",discussion:e.substageResults.find(e=>"9E"===e.substage)?.content||"",conclusions:e.substageResults.find(e=>"9F"===e.substage)?.content||"",references:e.substageResults.find(e=>"9G"===e.substage)?.content||""},jsonAnalysisData:{substageResults:e.substageResults,figureMetadata:e.figureMetadata},tableData:this.extractTableData(),chartData:this.extractChartData(),visualizationFiles:t,metadata:{totalTokensUsed:e.totalTokensUsed,generationTimeSeconds:e.totalGenerationTime,modelVersions:{gemini:"gemini-2.0-flash-exp",perplexity:"sonar-pro"}}},s=this.sessionId||`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o=i||`${e.title} - Multi-Substage Analysis`;await n.storeCompleteAnalysis(s,o,a)}catch(t){}}async collectVisualizationFiles(){const e=[];for(const i of this.figureMetadata)try{const t=[`/public/img/${i.filename}`,`./img/${i.filename}`,`/img/${i.filename}`];let a=!1;for(const s of t)try{const n=await fetch(s);if(n.ok){const t=await n.blob(),s=new File([t],i.filename,{type:"image/png"});e.push(s),a=!0;break}}catch(n){}if(!a){const n=document.querySelectorAll(`img[alt*="${i.title}"], img[src*="${i.filename}"]`);if(n.length>0){const t=n[0];if(t.src.startsWith("data:")){const n=await fetch(t.src),a=await n.blob(),s=new File([a],i.filename,{type:a.type||"image/png"});e.push(s)}}}}catch(n){}return e}extractTableData(){return this.stageResults.map((e,n)=>({stage:n+1,content:e.substring(0,1e3),extractedTables:(e.match(/\|.*\|/g)||[]).slice(0,5)}))}extractChartData(){return this.stageResults.map((e,n)=>({stage:n+1,statisticalData:(e.match(/(\d+\.?\d*)[%\s]*\([^)]*\)/g)||[]).slice(0,10),pValues:(e.match(/p\s*[<>=]\s*0\.\d+/gi)||[]).slice(0,5)}))}getThesisCSS(){return"\n      * { margin: 0; padding: 0; box-sizing: border-box; }\n      \n      body {\n          font-family: 'Times New Roman', serif;\n          line-height: 1.8;\n          color: #333;\n          background: #fff;\n          font-size: 12pt;\n      }\n      \n      .thesis-container {\n          max-width: 210mm;\n          margin: 0 auto;\n          padding: 25mm;\n          background: white;\n      }\n      \n      .title-page {\n          text-align: center;\n          padding: 50px 0;\n          border-bottom: 3px solid #2c3e50;\n          margin-bottom: 40px;\n          page-break-after: always;\n      }\n      \n      .thesis-title {\n          font-size: 24pt;\n          font-weight: bold;\n          margin-bottom: 20px;\n          color: #2c3e50;\n          line-height: 1.2;\n      }\n      \n      .thesis-subtitle {\n          font-size: 18pt;\n          color: #34495e;\n          margin-bottom: 40px;\n          font-weight: normal;\n      }\n      \n      .thesis-metadata {\n          background: #f8f9fa;\n          padding: 30px;\n          border-radius: 8px;\n          text-align: left;\n          display: inline-block;\n          margin-top: 30px;\n      }\n      \n      .thesis-metadata p {\n          margin: 8px 0;\n          font-size: 11pt;\n      }\n      \n      .table-of-contents {\n          background: #f1f3f4;\n          padding: 30px;\n          border-radius: 8px;\n          margin: 40px 0;\n          page-break-after: always;\n      }\n      \n      .table-of-contents h2 {\n          color: #2c3e50;\n          margin-bottom: 20px;\n          font-size: 18pt;\n      }\n      \n      .toc-list {\n          padding-left: 20px;\n      }\n      \n      .toc-list li {\n          margin: 12px 0;\n          font-size: 12pt;\n      }\n      \n      .toc-list a {\n          color: #3498db;\n          text-decoration: none;\n          font-weight: 500;\n      }\n      \n      .thesis-section {\n          margin: 60px 0;\n          page-break-inside: avoid;\n      }\n      \n      .section-header {\n          border-bottom: 2px solid #3498db;\n          padding-bottom: 15px;\n          margin-bottom: 30px;\n      }\n      \n      .section-title {\n          color: #2c3e50;\n          font-size: 18pt;\n          margin-bottom: 10px;\n      }\n      \n      .section-metadata {\n          font-size: 9pt;\n          color: #666;\n      }\n      \n      .section-metadata span {\n          margin-right: 20px;\n          padding: 4px 8px;\n          background: #e8f4f8;\n          border-radius: 4px;\n      }\n      \n      .section-content {\n          font-size: 12pt;\n          line-height: 1.8;\n          text-align: justify;\n      }\n      \n      .section-content h1 {\n          font-size: 16pt;\n          color: #2c3e50;\n          margin: 30px 0 15px 0;\n      }\n      \n      .section-content h2 {\n          font-size: 14pt;\n          color: #34495e;\n          margin: 25px 0 12px 0;\n      }\n      \n      .section-content h3 {\n          font-size: 12pt;\n          color: #34495e;\n          margin: 20px 0 10px 0;\n          font-weight: bold;\n      }\n      \n      .section-content p {\n          margin: 15px 0;\n      }\n      \n      .section-content ul, .section-content ol {\n          margin: 15px 0;\n          padding-left: 30px;\n      }\n      \n      .section-content li {\n          margin: 8px 0;\n      }\n      \n      .section-figures {\n          background: #f8f9fa;\n          padding: 20px;\n          border-left: 4px solid #3498db;\n          margin: 25px 0;\n          border-radius: 4px;\n      }\n      \n      .section-figures h4 {\n          color: #2c3e50;\n          margin-bottom: 10px;\n          font-size: 11pt;\n      }\n      \n      .figures-section {\n          margin-top: 60px;\n          padding-top: 40px;\n          border-top: 3px solid #3498db;\n      }\n      \n      .figures-intro {\n          font-size: 11pt;\n          font-style: italic;\n          margin-bottom: 40px;\n          color: #555;\n          text-align: center;\n          padding: 20px;\n          background: #f8f9fa;\n          border-radius: 6px;\n      }\n      \n      .figure-container {\n          margin: 50px 0;\n          padding: 30px;\n          border: 1px solid #ddd;\n          border-radius: 10px;\n          background: white;\n          box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n          page-break-inside: avoid;\n      }\n      \n      .figure-header {\n          margin-bottom: 20px;\n      }\n      \n      .figure-title {\n          color: #2c3e50;\n          font-size: 14pt;\n          margin-bottom: 8px;\n      }\n      \n      .figure-metadata span {\n          background: #e8f4f8;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-size: 9pt;\n          margin-right: 10px;\n          text-transform: capitalize;\n      }\n      \n      .figure-content {\n          text-align: center;\n          margin: 25px 0;\n      }\n      \n      .figure-image {\n          max-width: 100%;\n          height: auto;\n          border: 1px solid #ccc;\n          border-radius: 6px;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n      }\n      \n      .figure-legend {\n          font-size: 10pt;\n          color: #555;\n          line-height: 1.6;\n          margin-top: 20px;\n          padding: 20px;\n          background: #f8f9fa;\n          border-radius: 6px;\n      }\n      \n      .figure-legend strong {\n          color: #2c3e50;\n      }\n      \n      .cross-references {\n          margin-top: 15px;\n          padding-top: 15px;\n          border-top: 1px solid #ddd;\n          font-size: 9pt;\n          color: #666;\n      }\n      \n      .figure-technical-details {\n          margin-top: 10px;\n          font-size: 9pt;\n          color: #666;\n          font-style: italic;\n      }\n      \n      .thesis-footer {\n          margin-top: 60px;\n          padding: 30px;\n          border-top: 2px solid #3498db;\n          background: #f8f9fa;\n        border-radius: 8px;\n          text-align: center;\n      }\n      \n      .generation-info p {\n          margin: 8px 0;\n          font-size: 10pt;\n          color: #555;\n      }\n      \n      @media print {\n          .thesis-container { max-width: none; margin: 0; padding: 20mm; }\n          .thesis-section { page-break-inside: avoid; }\n          .figure-container { page-break-inside: avoid; }\n          body { font-size: 11pt; }\n      }\n      \n      @page {\n          size: A4;\n          margin: 25mm;\n      }\n    "}generateFallbackSubstage(e,n){const i=this.researchContext.topic||"Research Analysis",t=this.researchContext.field||"Scientific Research",a=this.stageResults.slice(0,6).join("\n\n");let s="";switch(e){case"9A":s=`## Abstract & Executive Summary\n\n**Background:** This comprehensive analysis employs the ASR-GoT (Automatic Scientific Research - Graph of Thoughts) framework to investigate ${i} within the field of ${t}.\n\n**Methodology:** A systematic approach was implemented using a 9-stage research pipeline incorporating multi-AI orchestration, graph-based reasoning, and comprehensive evidence synthesis.\n\n**Results:** The analysis processed ${this.graphData.nodes.length} knowledge nodes and ${this.graphData.edges.length} connections, providing systematic evidence collection and analysis across multiple research dimensions.\n\n**Conclusions:** This research provides comprehensive insights and evidence-based recommendations, establishing a foundation for future research directions in ${t}.\n\n*Note: This section was generated using fallback content due to API limitations.*`;break;case"9B":s=`## Introduction & Literature Review\n\nThe field of ${t} presents significant challenges that require systematic investigation. This research addresses critical gaps in current understanding through comprehensive analysis.\n\n**Research Context:**\n${a.substring(0,1500)}\n\n**Literature Foundation:**\nBased on the comprehensive evidence collected through the ASR-GoT framework, multiple peer-reviewed sources have been identified and analyzed.\n\n*Note: This section was generated using fallback content due to API limitations.*`;break;case"9C":s=`## Methodology & Framework\n\n**ASR-GoT Framework Implementation:**\nThis research employs a rigorous 9-stage pipeline:\n1. Initialization: Task understanding and knowledge node creation\n2. Decomposition: Multi-dimensional analysis\n3. Hypothesis Generation: Development of testable research hypotheses\n4. Evidence Integration: Systematic evidence collection\n5. Pruning/Merging: Graph optimization and quality filtering\n6. Subgraph Extraction: High-impact pathway identification\n7. Composition: Structured content synthesis\n8. Reflection: Bias detection and quality assurance\n9. Final Analysis: Comprehensive report generation\n\n**Data Analysis:**\nThe framework processed ${this.graphData.nodes.length} nodes and ${this.graphData.edges.length} edges, representing comprehensive coverage of the research domain.\n\n*Note: This section was generated using fallback content due to API limitations.*`;break;case"9D":s=`## Results & Statistical Analysis\n\n**Comprehensive Analysis Results:**\nThe systematic analysis revealed significant patterns in the evidence base, with ${this.graphData.nodes.filter(e=>"evidence"===e.type).length} evidence points and ${this.graphData.nodes.filter(e=>"hypothesis"===e.type).length} research hypotheses validated.\n\n**Statistical Overview:**\n- Total knowledge nodes analyzed: ${this.graphData.nodes.length}\n- Network connections established: ${this.graphData.edges.length}\n- Evidence-hypothesis relationships: Multiple validated pathways identified\n\n**Key Findings:**\nBased on the comprehensive analysis, significant correlations and patterns have been identified across the research domain.\n\n*Note: This section was generated using fallback content due to API limitations.*`;break;case"9E":s=`## Discussion & Clinical Implications\n\n**Research Significance:**\nThe findings from this comprehensive analysis provide valuable insights for practitioners and researchers in ${t}.\n\n**Clinical Applications:**\nThe evidence collected through the ASR-GoT framework establishes multiple pathways for practical implementation and clinical decision-making.\n\n**Future Directions:**\nThe systematic approach demonstrates the potential for continued research and development in this domain.\n\n*Note: This section was generated using fallback content due to API limitations.*`;break;case"9F":s=`## Conclusions & Future Directions\n\n**Summary of Findings:**\nThis comprehensive ASR-GoT analysis has successfully mapped the research landscape for ${i}, providing valuable insights and evidence-based conclusions.\n\n**Key Contributions:**\n- Comprehensive evidence synthesis across ${this.graphData.nodes.filter(e=>"evidence"===e.type).length} evidence points\n- Validation of ${this.graphData.nodes.filter(e=>"hypothesis"===e.type).length} research hypotheses\n- Network analysis revealing ${this.graphData.edges.length} significant relationships\n\n**Future Research Priorities:**\n1. Extended longitudinal studies to validate findings\n2. Multi-center collaborative research initiatives\n3. Integration with emerging technologies and methodologies\n4. Translation of findings into practical applications\n\n*Note: This section was generated using fallback content due to API limitations.*`;break;case"9G":s=`## References & Technical Appendices\n\n**Reference Framework:**\nThis analysis synthesized evidence from multiple peer-reviewed sources identified through systematic search and ASR-GoT framework analysis.\n\n**Technical Specifications:**\n- Framework: ASR-GoT (Automatic Scientific Research - Graph of Thoughts)\n- Analysis Scope: ${this.graphData.nodes.length} knowledge nodes, ${this.graphData.edges.length} connections\n- Research Domain: ${t}\n- Generation Method: Multi-substage progressive synthesis\n\n**Appendices:**\nDetailed technical specifications and extended analysis results are available through the comprehensive framework documentation.\n\n*Note: This section was generated using fallback content due to API limitations.*`;break;default:s=`## ${n}\n\nComprehensive content for this section was generated through the ASR-GoT framework analysis.\n\n*Note: This section was generated using fallback content due to API limitations.*`}return{substage:e,title:n,content:s,tokenUsage:Math.ceil(s.length/4),figuresReferenced:[],generationTime:1,wordCount:s.split(/\s+/).length}}}export{i as Stage9MultiSubstageGenerator};
//# sourceMappingURL=Stage9MultiSubstageGenerator-3SDK9I6t.js.map
