{"version":3,"file":"ordinal-CVjKTKEW.js","sources":["../node_modules/internmap/src/index.js","../node_modules/d3-scale/src/ordinal.js"],"sourcesContent":["export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n"],"names":["InternMap","Map","constructor","entries","key","keyof","super","Object","defineProperties","this","_intern","value","_key","set","get","intern_get","has","intern_set","delete","intern_delete","valueOf","implicit","Symbol","ordinal","index","domain","range","unknown","scale","d","i","undefined","push","length","_","arguments","slice","Array","from","copy","initRange","apply"],"mappings":"uCAAO,MAAMA,UAAkBC,IAC7B,WAAAC,CAAYC,EAASC,EAAMC,GAGzB,GAFAC,QACAC,OAAOC,iBAAiBC,KAAM,CAACC,QAAS,CAACC,MAAO,IAAIV,KAAQW,KAAM,CAACD,MAAOP,KAC3D,MAAXD,EAAiB,IAAK,MAAOC,EAAKO,KAAUR,EAASM,KAAKI,IAAIT,EAAKO,EACzE,CACA,GAAAG,CAAIV,GACF,OAAOE,MAAMQ,IAAIC,EAAWN,KAAML,GACpC,CACA,GAAAY,CAAIZ,GACF,OAAOE,MAAMU,IAAID,EAAWN,KAAML,GACpC,CACA,GAAAS,CAAIT,EAAKO,GACP,OAAOL,MAAMO,IA6BjB,UAAoBH,QAACA,EAAOE,KAAEA,GAAOD,GACnC,MAAMP,EAAMQ,EAAKD,GACjB,OAAID,EAAQM,IAAIZ,GAAaM,EAAQI,IAAIV,IACzCM,EAAQG,IAAIT,EAAKO,GACVA,EACT,CAlCqBM,CAAWR,KAAML,GAAMO,EAC1C,CACA,OAAOP,GACL,OAAOE,MAAMY,OAiCjB,UAAuBR,QAACA,EAAOE,KAAEA,GAAOD,GACtC,MAAMP,EAAMQ,EAAKD,GACbD,EAAQM,IAAIZ,KACdO,EAAQD,EAAQI,IAAIV,GACpBM,EAAQQ,OAAOd,IAEjB,OAAOO,CACT,CAxCwBQ,CAAcV,KAAML,GAC1C,EAoBF,SAASW,GAAWL,QAACA,EAAOE,KAAEA,GAAOD,GACnC,MAAMP,EAAMQ,EAAKD,GACjB,OAAOD,EAAQM,IAAIZ,GAAOM,EAAQI,IAAIV,GAAOO,CAC/C,CAkBA,SAASN,EAAMM,GACb,OAAiB,OAAVA,GAAmC,iBAAVA,EAAqBA,EAAMS,UAAYT,CACzE,CCzDO,MAAMU,EAAWC,OAAO,YAEhB,SAASC,IACtB,IAAIC,EAAQ,IAAIxB,EACZyB,EAAS,GACTC,EAAQ,GACRC,EAAUN,EAEd,SAASO,EAAMC,GACb,IAAIC,EAAIN,EAAMV,IAAIe,GAClB,QAAUE,IAAND,EAAiB,CACnB,GAAIH,IAAYN,EAAU,OAAOM,EACjCH,EAAMX,IAAIgB,EAAGC,EAAIL,EAAOO,KAAKH,GAAK,EACpC,CACA,OAAOH,EAAMI,EAAIJ,EAAMO,OACzB,CA0BA,OAxBAL,EAAMH,OAAS,SAASS,GACtB,IAAKC,UAAUF,OAAQ,OAAOR,EAAOW,QACrCX,EAAS,GAAID,EAAQ,IAAIxB,EACzB,IAAK,MAAMW,KAASuB,EACdV,EAAMR,IAAIL,IACda,EAAMX,IAAIF,EAAOc,EAAOO,KAAKrB,GAAS,GAExC,OAAOiB,CACT,EAEAA,EAAMF,MAAQ,SAASQ,GACrB,OAAOC,UAAUF,QAAUP,EAAQW,MAAMC,KAAKJ,GAAIN,GAASF,EAAMU,OACnE,EAEAR,EAAMD,QAAU,SAASO,GACvB,OAAOC,UAAUF,QAAUN,EAAUO,EAAGN,GAASD,CACnD,EAEAC,EAAMW,KAAO,WACX,OAAOhB,EAAQE,EAAQC,GAAOC,QAAQA,EACxC,EAEAa,EAAUC,MAAMb,EAAOO,WAEhBP,CACT","x_google_ignoreList":[0,1]}